"use strict";(self.webpackChunkperi=self.webpackChunkperi||[]).push([[3453],{3453:function(e,t,i){i.r(t),i.d(t,{ion_datetime_button:function(){return l}});var a=i(5971),n=i(2387),o=i(4852),r=i(8827),s=i(4364),d=i(9764),c=i(2037),l=function(){function e(e){var t=this;(0,n.r)(this,e),this.datetimeEl=null,this.overlayEl=null,this.getParsedDateValues=function(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]},this.setDateTimeText=function(){var e=t,i=e.datetimeEl,a=e.datetimePresentation;if(i){var n=i.value,o=i.locale,s=i.hourCycle,d=i.preferWheel,l=i.multiple,m=i.titleSelectedDatesFormatter,p=t.getParsedDateValues(n),u=(0,c.q)(p.length>0?p:[(0,c.t)()]);if(u){var h=u[0],b=(0,c.J)(o,s);switch(t.dateText=t.timeText=void 0,a){case"date-time":case"time-date":var f=(0,c.T)(o,h),v=(0,c.K)(o,h,b);d?t.dateText="".concat(f," ").concat(v):(t.dateText=f,t.timeText=v);break;case"date":if(l&&1!==p.length){var x="".concat(p.length," days");if(void 0!==m)try{x=m(p)}catch(e){(0,r.a)("Exception in provided `titleSelectedDatesFormatter`: ",e)}t.dateText=x}else t.dateText=(0,c.T)(o,h);break;case"time":t.timeText=(0,c.K)(o,h,b);break;case"month-year":t.dateText=(0,c.G)(o,h);break;case"month":t.dateText=(0,c.S)(o,h,{month:"long"});break;case"year":t.dateText=(0,c.S)(o,h,{year:"numeric"})}}}},this.waitForDatetimeChanges=function(){return(0,a.mG)(t,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){return(e=this.datetimeEl)?[2,new Promise((function(t){(0,o.a)(e,"ionRender",t,{once:!0})}))]:[2,Promise.resolve()]}))}))},this.handleDateClick=function(e){return(0,a.mG)(t,void 0,void 0,(function(){var t,i,n,o,r;return(0,a.Jh)(this,(function(a){if(i=(t=this).datetimeEl,n=t.datetimePresentation,!i)return[2];switch(o=!1,n){case"date-time":case"time-date":r="date"!==i.presentation,!i.preferWheel&&r&&(i.presentation="date",o=!0)}return this.selectedButton="date",this.presentOverlay(e,o,this.dateTargetEl),[2]}))}))},this.handleTimeClick=function(e){var i=t,a=i.datetimeEl,n=i.datetimePresentation;if(a){var o=!1;switch(n){case"date-time":case"time-date":"time"!==a.presentation&&(a.presentation="time",o=!0)}t.selectedButton="time",t.presentOverlay(e,o,t.timeTargetEl)}},this.presentOverlay=function(e,i,n){return(0,a.mG)(t,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return(t=this.overlayEl)?"ION-POPOVER"!==t.tagName?[3,3]:i?[4,this.waitForDatetimeChanges()]:[3,2]:[2];case 1:a.sent(),a.label=2;case 2:return t.present(Object.assign(Object.assign({},e),{detail:{ionShadowTarget:n}})),[3,4];case 3:t.present(),a.label=4;case 4:return[2]}}))}))},this.datetimePresentation="date-time",this.dateText=void 0,this.timeText=void 0,this.datetimeActive=!1,this.selectedButton=void 0,this.color="primary",this.disabled=!1,this.datetime=void 0}return e.prototype.componentWillLoad=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t,i,n,s=this;return(0,a.Jh)(this,(function(a){return(e=this.datetime)?(t=this.datetimeEl=document.getElementById(e))?"ION-DATETIME"!==t.tagName?((0,r.a)("Expected an ion-datetime instance for ID '".concat(e,"' but received '").concat(t.tagName.toLowerCase(),"' instead."),t),[2]):(i=new IntersectionObserver((function(e){var t=e[0];s.datetimeActive=t.isIntersecting}),{threshold:.01}),i.observe(t),(n=this.overlayEl=t.closest("ion-modal, ion-popover"))&&n.classList.add("ion-datetime-button-overlay"),(0,o.c)(t,(function(){var e=s.datetimePresentation=t.presentation||"date-time";switch(s.setDateTimeText(),(0,o.a)(t,"ionValueChange",s.setDateTimeText),e){case"date-time":case"date":case"month-year":case"month":case"year":s.selectedButton="date";break;case"time-date":case"time":s.selectedButton="time"}})),[2]):((0,r.a)("No ion-datetime instance found for ID '".concat(e,"'."),this.el),[2]):((0,r.a)("An ID associated with an ion-datetime instance is required for ion-datetime-button to function properly.",this.el),[2])}))}))},e.prototype.render=function(){var e,t=this,i=this,a=i.color,o=i.dateText,r=i.timeText,c=i.selectedButton,l=i.datetimeActive,m=i.disabled,p=(0,d.b)(this);return(0,n.h)(n.H,{class:(0,s.c)(a,(e={},e[p]=!0,e["".concat(c,"-active")]=l,e["datetime-button-disabled"]=m,e))},o&&(0,n.h)("button",{class:"ion-activatable",id:"date-button","aria-expanded":l?"true":"false",onClick:this.handleDateClick,disabled:m,part:"native",ref:function(e){return t.dateTargetEl=e}},(0,n.h)("slot",{name:"date-target"},o),"md"===p&&(0,n.h)("ion-ripple-effect",null)),r&&(0,n.h)("button",{class:"ion-activatable",id:"time-button","aria-expanded":l?"true":"false",onClick:this.handleTimeClick,disabled:m,part:"native",ref:function(e){return t.timeTargetEl=e}},(0,n.h)("slot",{name:"time-target"},r),"md"===p&&(0,n.h)("ion-ripple-effect",null)))},Object.defineProperty(e.prototype,"el",{get:function(){return(0,n.f)(this)},enumerable:!1,configurable:!0}),e}();l.style={ios:":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host button{border-radius:8px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:0px;margin-bottom:0px;position:relative;-webkit-transition:150ms color ease-in-out;transition:150ms color ease-in-out;border:none;background:var(--ion-color-step-300, #edeef0);color:var(--ion-text-color, #000);font-family:inherit;font-size:1rem;cursor:pointer;overflow:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}:host(.time-active) #time-button,:host(.date-active) #date-button{color:var(--ion-color-base)}:host(.datetime-button-disabled){pointer-events:none}:host(.datetime-button-disabled) button{opacity:0.4}",md:":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host button{border-radius:8px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:0px;margin-bottom:0px;position:relative;-webkit-transition:150ms color ease-in-out;transition:150ms color ease-in-out;border:none;background:var(--ion-color-step-300, #edeef0);color:var(--ion-text-color, #000);font-family:inherit;font-size:1rem;cursor:pointer;overflow:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}:host(.time-active) #time-button,:host(.date-active) #date-button{color:var(--ion-color-base)}:host(.datetime-button-disabled){pointer-events:none}:host(.datetime-button-disabled) button{opacity:0.4}"}}}]);
//# sourceMappingURL=3453.5721e116.chunk.js.map